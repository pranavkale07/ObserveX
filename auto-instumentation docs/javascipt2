Zero-Code Instrumentation Configuration
Learn how to configure Zero-Code Instrumentation for Node.js
This module is highly configurable by setting environment variables. Many aspects of the auto instrumentationâ€™s behavior can be configured for your needs, such as resource detectors, exporters, trace context propagation headers, and more.

SDK and exporter configuration
SDK and exporter configuration can be set using environment variables.

SDK resource detector configuration
By default, the module will enable all SDK resource detectors. You can use the OTEL_NODE_RESOURCE_DETECTORS environment variable to enable only certain detectors, or completely disable them:

env
host
os
process
serviceinstance
container
alibaba
aws
azure
gcp
all - enables all resource detectors
none - disables resource detection
For example, to only enable the env and host detectors, you can set:

OTEL_NODE_RESOURCE_DETECTORS=env,host
Excluding instrumentation libraries
By default, all supported instrumentation libraries are enabled, but you can use environment variables to enable or disable specific instrumentations.

Enable specific instrumentations
Use the environment variable OTEL_NODE_ENABLED_INSTRUMENTATIONS to enable only certain instrumentations by providing a comma-separated list of the instrumentation library names without the @opentelemetry/instrumentation- prefix.

For example, to enable only @opentelemetry/instrumentation-http and @opentelemetry/instrumentation-express instrumentations:

OTEL_NODE_ENABLED_INSTRUMENTATIONS="http,express"
Disable specific instrumentations
Use the environment variable OTEL_NODE_DISABLED_INSTRUMENTATIONS to keep the fully enabled list and only disable certain instrumentations by providing a comma-separated list of the instrumentation library names without the @opentelemetry/instrumentation- prefix.

For example, to disable only @opentelemetry/instrumentation-fs and @opentelemetry/instrumentation-grpc instrumentations:

OTEL_NODE_DISABLED_INSTRUMENTATIONS="fs,grpc"